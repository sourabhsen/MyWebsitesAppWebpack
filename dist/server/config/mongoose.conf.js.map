{"version":3,"sources":["../../../app/config/mongoose.conf.js"],"names":["mongoose","gracefulExit","connection","close","console","log","process","exit","on","ref","env","NODE_ENV","err","error","connect","MONGO_URI"],"mappings":";;;;;;AACA;;kBAEe,UAACA,QAAD,EAAc;;AAE3B,MAAIC,eAAe,SAAfA,YAAe,GAAW;;AAE5BD,aAASE,UAAT,CAAoBC,KAApB,CAA0B,YAAM;;AAE9BC,cAAQC,GAAR,CAAY,mEAAZ;;AAGAC,cAAQC,IAAR,CAAa,CAAb;AACD,KAND;AAOD,GATD;;AAWAP,WAASE,UAAT,CAAoBM,EAApB,CAAuB,WAAvB,EAAoC,UAACC,GAAD,EAAS;;AAE3CL,YAAQC,GAAR,CAAY,+BAA6BC,QAAQI,GAAR,CAAYC,QAAzC,0BAAZ;AAED,GAJD;;AAMA;AACAX,WAASE,UAAT,CAAoBM,EAApB,CAAuB,OAAvB,EAAgC,UAACI,GAAD,EAAS;;AAEvCR,YAAQS,KAAR,CAAc,0BAAwBP,QAAQI,GAAR,CAAYC,QAApC,gCAAd,EAC2BC,GAD3B;AAED,GAJD;;AAMA;AACAZ,WAASE,UAAT,CAAoBM,EAApB,CAAuB,cAAvB,EAAuC,YAAM;;AAE3CJ,YAAQC,GAAR,CAAY,oCAAkCC,QAAQI,GAAR,CAAYC,QAA9C,2BAAZ;AAED,GAJD;;AAMA;AACAL,UAAQE,EAAR,CAAW,QAAX,EAAqBP,YAArB,EAAmCO,EAAnC,CAAsC,SAAtC,EAAiDP,YAAjD;;AAEA;AACA;AACAD,WAASc,OAAT,CAAiBR,QAAQI,GAAR,CAAYK,SAA7B,EAAwC,UAACF,KAAD,EAAW;;AAEjD,QAAIA,KAAJ,EACE,MAAMA,KAAN;AACH,GAJD;AAKD,C","file":"mongoose.conf.js","sourcesContent":["\n// *mongoose.conf.js*\n\nexport default (mongoose) => {\n\n  let gracefulExit = function() {\n\n    mongoose.connection.close(() => {\n\n      console.log(`Mongoose connection ` +\n        `has disconnected through app termination`);\n\n      process.exit(0);\n    });\n  };\n\n  mongoose.connection.on(\"connected\", (ref) => {\n\n    console.log(`Successfully connected to ${process.env.NODE_ENV}` +\n      ` database on startup `);\n  });\n\n  // If the connection throws an error\n  mongoose.connection.on(\"error\", (err) => {\n\n    console.error(`Failed to connect to ${process.env.NODE_ENV} ` +\n      ` database on startup `, err);\n  });\n\n  // When the connection is disconnected\n  mongoose.connection.on('disconnected', () => {\n\n    console.log(`Mongoose default connection to ${process.env.NODE_ENV}` +\n      ` database disconnected`);\n  });\n\n  // If the Node process ends, close the Mongoose connection\n  process.on('SIGINT', gracefulExit).on('SIGTERM', gracefulExit);\n\n  // Connect to our MongoDB database using the MongoDB\n  // connection URI from our predefined environment variable\n  mongoose.connect(process.env.MONGO_URI, (error) => {\n\n    if (error)\n      throw error;\n  });\n};\n"]}